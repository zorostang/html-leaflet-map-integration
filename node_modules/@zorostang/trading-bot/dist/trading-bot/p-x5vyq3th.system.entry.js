System.register(["./p-9bb0a445.system.js"],function(t){"use strict";var e,n;return{setters:[function(t){e=t.r;n=t.h}],execute:function(){function r(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var i=r;var o=typeof globalThis!=="undefined"?globalThis:typeof window!=="undefined"?window:typeof global!=="undefined"?global:typeof self!=="undefined"?self:{};var a=typeof o=="object"&&o&&o.Object===Object&&o;var u=a;var s=typeof self=="object"&&self&&self.Object===Object&&self;var f=u||s||Function("return this")();var c=f;var l=function(){return c.Date.now()};var d=l;var v=c.Symbol;var p=v;var g=Object.prototype;var h=g.hasOwnProperty;var m=g.toString;var y=p?p.toStringTag:undefined;function b(t){var e=h.call(t,y),n=t[y];try{t[y]=undefined;var r=true}catch(t){}var i=m.call(t);if(r){if(e){t[y]=n}else{delete t[y]}}return i}var T=b;var w=Object.prototype;var j=w.toString;function O(t){return j.call(t)}var S=O;var E="[object Null]",x="[object Undefined]";var L=p?p.toStringTag:undefined;function P(t){if(t==null){return t===undefined?x:E}return L&&L in Object(t)?T(t):S(t)}var k=P;function C(t){return t!=null&&typeof t=="object"}var D=C;var _="[object Symbol]";function W(t){return typeof t=="symbol"||D(t)&&k(t)==_}var H=W;var M=0/0;var N=/^\s+|\s+$/g;var U=/^[-+]0x[0-9a-f]+$/i;var $=/^0b[01]+$/i;var z=/^0o[0-7]+$/i;var F=parseInt;function I(t){if(typeof t=="number"){return t}if(H(t)){return M}if(i(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=i(e)?e+"":e}if(typeof t!="string"){return t===0?t:+t}t=t.replace(N,"");var n=$.test(t);return n||z.test(t)?F(t.slice(2),n?2:8):U.test(t)?M:+t}var J=I;var X="Expected a function";var A=Math.max,R=Math.min;function Y(t,e,n){var r,o,a,u,s,f,c=0,l=false,v=false,p=true;if(typeof t!="function"){throw new TypeError(X)}e=J(e)||0;if(i(n)){l=!!n.leading;v="maxWait"in n;a=v?A(J(n.maxWait)||0,e):a;p="trailing"in n?!!n.trailing:p}function g(e){var n=r,i=o;r=o=undefined;c=e;u=t.apply(i,n);return u}function h(t){c=t;s=setTimeout(b,e);return l?g(t):u}function m(t){var n=t-f,r=t-c,i=e-n;return v?R(i,a-r):i}function y(t){var n=t-f,r=t-c;return f===undefined||n>=e||n<0||v&&r>=a}function b(){var t=d();if(y(t)){return T(t)}s=setTimeout(b,m(t))}function T(t){s=undefined;if(p&&r){return g(t)}r=o=undefined;return u}function w(){if(s!==undefined){clearTimeout(s)}c=0;r=f=o=s=undefined}function j(){return s===undefined?u:T(d())}function O(){var t=d(),n=y(t);r=arguments;o=this;f=t;if(n){if(s===undefined){return h(f)}if(v){clearTimeout(s);s=setTimeout(b,e);return g(f)}}if(s===undefined){s=setTimeout(b,e)}return u}O.cancel=w;O.flush=j;return O}var Z=Y;var B="Expected a function";function q(t,e,n){var r=true,o=true;if(typeof t!="function"){throw new TypeError(B)}if(i(n)){r="leading"in n?!!n.leading:r;o="trailing"in n?!!n.trailing:o}return Z(t,e,{leading:r,maxWait:e,trailing:o})}var G=q;var K=function(){function t(t){var n=this;e(this,t);this.instrument="";this.updateLastTrade=function(t,e){var r=JSON.parse(t);console.log(r);if(r.data&&r.data[0].symbol===n.instrument){e(r.data[0])}};this.throttledUpdate=G(this.updateLastTrade,33);this.connect=function(){n.ws=new WebSocket("wss://www.bitmex.com/realtime");n.ws.onopen=function(){n.instrument=n.instrument?n.instrument:"XBTUSD";n.ws.send(JSON.stringify({op:"subscribe",args:"trade:"+n.instrument}))};n.ws.onmessage=function(t){n.state=t.data};n.ws.onerror=function(t){console.log(t)};n.ws.onclose=function(t){console.log(t.code,t.reason)}};this.getFontSize=function(){var t=1;return t+"rem"};this.getColor=function(){if(n.lastTrade){switch(n.lastTrade.tickDirection){case"ZeroPlusTick":return"green";case"ZeroMinusTick":return"red";case"PlusTick":return"green";case"MinusTick":return"red";default:console.log(n.lastTrade.tickDirection)}}};this.style=function(){return{fontSize:n.getFontSize(),color:n.getColor()}}}t.prototype.watchHandler=function(t){var e=this;this.throttledUpdate(t,function(t){e.lastTrade=Object.assign({},t)})};t.prototype.handleInstrumentChange=function(t){console.log(t);this.ws.send(JSON.stringify({op:"subscribe",args:"trade:"+this.instrument}))};t.prototype.componentWillLoad=function(){this.connect()};t.prototype.render=function(){if(!this.lastTrade)return null;return n("div",null,this.instrument," is trading at: ",n("span",{style:this.style()},this.lastTrade.price))};Object.defineProperty(t,"watchers",{get:function(){return{state:["watchHandler"],instrument:["handleInstrumentChange"]}},enumerable:true,configurable:true});Object.defineProperty(t,"style",{get:function(){return""},enumerable:true,configurable:true});return t}();t("live_trades",K);function Q(t,e,n){return(t||"")+(e?" "+e:"")+(n?" "+n:"")}var V=function(){function t(t){e(this,t)}t.prototype.getText=function(){return Q(this.first,this.middle,this.last)};t.prototype.render=function(){return n("div",null,"This is a demonstration of a stencil.js component ",this.getText())};Object.defineProperty(t,"style",{get:function(){return""},enumerable:true,configurable:true});return t}();t("my_component",V)}}});